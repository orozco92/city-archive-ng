<form #form="ngForm">
    <p-dialog
        [(visible)]="visible"
        header="Cambiar rol"
        [modal]="modal"
        [style]="{ width: '50vw' }"
        class="p-fluid"
    >
        <ng-template pTemplate="content">
            <h1 class="text-xl">{{ data.name }} {{ data.lastName }}</h1>
            <div class="field">
                <label
                    for="password1"
                    class="block text-900 font-medium text-xl mb-2"
                    >Contraseña</label
                >
                <p-password
                    id="password1"
                    name="password1"
                    [(ngModel)]="password"
                    placeholder="Contraseña"
                    [toggleMask]="true"
                    styleClass="w-full mb-3"
                    required
                    #password1="ngModel"
                ></p-password>
                <small
                    class="ng-dirty ng-invalid"
                    *ngIf="
                        password1.invalid &&
                        (password1.dirty || password1.touched)
                    "
                >
                    La contraseña es requerida.
                </small>
            </div>
            <div class="field">
                <label
                    for="password2"
                    class="block text-900 font-medium text-xl mb-2"
                    >Repetir contraseña</label
                >
                <p-password
                    id="password2"
                    name="repeatPassword"
                    [(ngModel)]="repeatPassword"
                    placeholder="Contraseña"
                    [toggleMask]="true"
                    styleClass="w-full mb-3"
                    required
                    #password2="ngModel"
                ></p-password>
                <small
                    class="ng-dirty ng-invalid"
                    *ngIf="
                        (password1.dirty || password1.touched) &&
                        (password1.dirty || password1.touched) &&
                        password != repeatPassword
                    "
                >
                    Las contraseñas no coinciden.
                </small>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <button
                pButton
                pRipple
                icon="pi pi-check"
                class="p-button-text"
                label="Actualizar"
                [disabled]="form.invalid || password != repeatPassword"
                (click)="updatePassword()"
            ></button>
            <button
                pButton
                pRipple
                icon="pi pi-times"
                class="p-button-text"
                label="Cancelar"
                (click)="visible = false"
            ></button>
        </ng-template>
    </p-dialog>
</form>
